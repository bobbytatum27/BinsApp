{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\azhan\\\\desktop\\\\binsapp\\\\binsapp\\\\screens\\\\Home.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport { LoginContext } from \"../components/LoginProvider.js\";\nimport { Auth } from 'aws-amplify';\nimport { Ionicons } from '@expo/vector-icons';\nimport Item from \"../components/Item.js\";\nimport Textbox from \"../components/Textbox.js\";\nimport LongButton from \"../components/LongButton.js\";\nimport { Url } from \"../src/components/url.js\";\nimport moment from \"moment\";\n\nvar Home = function (_Component) {\n  _inherits(Home, _Component);\n\n  var _super = _createSuper(Home);\n\n  function Home() {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _super.call(this);\n\n    _this.renderItem = function (_ref) {\n      var item = _ref.item;\n      return React.createElement(View, {\n        style: styles.button,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 7\n        }\n      }, React.createElement(Image, {\n        style: {\n          width: 150,\n          height: 150\n        },\n        source: {\n          uri: item.photo\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }\n      }), React.createElement(View, {\n        style: {\n          padding: 10,\n          flexDirection: 'column'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }\n      }, item.description), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }\n      }, \"ID #\", item.id)));\n    };\n\n    _this.renderItemsInStorage = function (_ref2) {\n      var item = _ref2.item;\n      return React.createElement(View, {\n        style: styles.button,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 9\n        }\n      }, React.createElement(Image, {\n        style: {\n          width: 150,\n          height: 150\n        },\n        source: {\n          uri: item.photo\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }\n      }), React.createElement(View, {\n        style: {\n          padding: 10,\n          flexDirection: 'column'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }\n      }, item.description), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }\n      }, \"ID #\", item.id)));\n    };\n\n    _this.renderOrders = function (data) {\n      return React.createElement(View, {\n        style: {\n          flexDirection: 'row'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }\n      }, moment(data.item.date).format('MMMM DD, YYYY'), \", \", data.item.time)), React.createElement(TouchableOpacity, {\n        style: {\n          marginLeft: 50\n        },\n        onPress: function onPress() {\n          return _this.props.navigation.navigate('ViewOrder', {\n            id: data.item.id\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }\n      }, \"...\")));\n    };\n\n    _this.onRefresh = function () {\n      _this.setState({\n        refreshing: true\n      });\n\n      _this.fetchData();\n\n      _this.fetchOrders();\n    };\n\n    _this.state = {\n      isLoading: true,\n      dataSourceStorage: [],\n      dataSourceHome: [],\n      dataSourceOrders: [],\n      email: '',\n      refreshing: false,\n      id: ''\n    };\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"fetchData\",\n    value: function fetchData() {\n      var _this2 = this;\n\n      var email = '';\n      Auth.currentUserInfo().then(function (userInfo) {\n        var _userInfo$attributes = userInfo.attributes,\n            attributes = _userInfo$attributes === void 0 ? {} : _userInfo$attributes;\n        email = attributes['email'];\n      });\n      fetch(Url + '/render').then(function (response) {\n        return response.json();\n      }).then(function (responseJson) {\n        var responseJson2 = responseJson.filter(function (item) {\n          return item.isInStorage == 'No' && item.owner == email;\n        });\n        var responseJson3 = responseJson.filter(function (item) {\n          return item.isInStorage == 'Yes' && item.owner == email;\n        });\n\n        _this2.setState({\n          dataSourceHome: responseJson2\n        });\n\n        _this2.setState({\n          dataSourceStorage: responseJson3\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"fetchOrders\",\n    value: function fetchOrders() {\n      var _this3 = this;\n\n      var email = '';\n      Auth.currentUserInfo().then(function (userInfo) {\n        var _userInfo$attributes2 = userInfo.attributes,\n            attributes = _userInfo$attributes2 === void 0 ? {} : _userInfo$attributes2;\n        email = attributes['email'];\n      });\n      fetch(Url + '/renderorders').then(function (response) {\n        return response.json();\n      }).then(function (responseJson) {\n        var responseJson2 = responseJson.filter(function (item) {\n          return item.name == email;\n        });\n\n        _this3.setState({\n          dataSourceOrders: responseJson2,\n          isLoading: false,\n          refreshing: false\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchData();\n      this.fetchOrders();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 7\n        }\n      }, this.state.isLoading ? React.createElement(React.Fragment, null, React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 9\n        }\n      }, React.createElement(ActivityIndicator, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }\n      }))) : React.createElement(React.Fragment, null, React.createElement(ScrollView, {\n        refreshControl: React.createElement(RefreshControl, {\n          refreshing: this.state.refreshing,\n          onRefresh: this.onRefresh,\n          tintColor: \"white\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 11\n          }\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: {\n          marginBottom: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 9\n        }\n      }), this.state.dataSourceOrders.length == 0 ? React.createElement(React.Fragment, null, React.createElement(TouchableOpacity, {\n        style: styles.button2,\n        onPress: function onPress() {\n          return _this4.props.navigation.navigate('NewAppointment');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 25,\n          color: '#FFF'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }\n      }, \"Schedule Appointment\"))) : React.createElement(React.Fragment, null, React.createElement(View, {\n        style: styles.sectionContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: styles.sectionHeader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }\n      }, \"Upcoming Order\"), React.createElement(FlatList, {\n        horizontal: true,\n        data: this.state.dataSourceOrders.slice(0, 1),\n        renderItem: this.renderOrders,\n        scrollEnabled: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }\n      }))), React.createElement(View, {\n        style: styles.sectionContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: styles.sectionHeader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }\n      }, \"Items in Storage\"), this.state.dataSourceStorage.length == 0 ? React.createElement(React.Fragment, null, React.createElement(View, {\n        style: styles.textbox,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 19\n        }\n      }, React.createElement(Text, {\n        style: {\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 15\n        }\n      }, \"No Items Yet - Will Appear Once You Have Items\"))) : React.createElement(React.Fragment, null, React.createElement(FlatList, {\n        horizontal: true,\n        columns: 2,\n        data: this.state.dataSourceStorage.slice(0, 2),\n        renderItem: this.renderItemsInStorage,\n        keyExtractor: function keyExtractor(item, index) {\n          return index.toString();\n        },\n        scrollEnabled: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }\n      }), React.createElement(TouchableOpacity, {\n        style: styles.button3,\n        onPress: function onPress() {\n          return _this4.props.navigation.navigate('ViewStorageInventory');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 15\n        }\n      }, \"VIEW ALL\")))), React.createElement(View, {\n        style: styles.sectionContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: styles.sectionHeader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }\n      }, \"Returned Items\"), this.state.dataSourceHome.length == 0 ? React.createElement(React.Fragment, null, React.createElement(View, {\n        style: styles.textbox,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 19\n        }\n      }, React.createElement(Text, {\n        style: {\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 15\n        }\n      }, \"None of Your Items Have Been Returned Yet\"))) : React.createElement(React.Fragment, null, React.createElement(FlatList, {\n        horizontal: true,\n        data: this.state.dataSourceHome.slice(0, 2),\n        renderItem: this.renderItem,\n        keyExtractor: function keyExtractor(item, index) {\n          return index.toString();\n        },\n        scrollEnabled: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 15\n        }\n      }), React.createElement(TouchableOpacity, {\n        style: styles.button3,\n        onPress: function onPress() {\n          return _this4.props.navigation.navigate('HomeInventoryScreen');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 15\n        }\n      }, \"VIEW ALL\")))))));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nHome.contextType = LoginContext;\nexport default Home;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#261136'\n  },\n  sectionContainer: {\n    margin: 15,\n    backgroundColor: '#FFF',\n    borderRadius: 5,\n    padding: 25\n  },\n  sectionHeader: {\n    color: '#000',\n    fontSize: 25,\n    marginBottom: 10\n  },\n  button: {\n    marginRight: 30,\n    backgroundColor: 'white',\n    borderColor: 'black',\n    borderWidth: 1,\n    borderRadius: 5,\n    overflow: \"hidden\"\n  },\n  button2: {\n    alignItems: 'center',\n    backgroundColor: '#7B1FA2',\n    padding: 10,\n    margin: 15,\n    borderRadius: 5\n  },\n  button3: {\n    alignItems: 'center',\n    backgroundColor: '#7B1FA2',\n    padding: 10,\n    marginTop: 15,\n    borderRadius: 5\n  },\n  textbox: {\n    flexDirection: 'column',\n    backgroundColor: '#FFF',\n    padding: 10,\n    marginLeft: 15,\n    marginRight: 15,\n    borderRadius: 5\n  }\n});","map":{"version":3,"sources":["C:/Users/azhan/desktop/binsapp/binsapp/screens/Home.js"],"names":["React","Component","LoginContext","Auth","Ionicons","Item","Textbox","LongButton","Url","moment","Home","renderItem","item","styles","button","width","height","uri","photo","padding","flexDirection","fontWeight","description","id","renderItemsInStorage","renderOrders","data","fontSize","date","format","time","marginLeft","props","navigation","navigate","onRefresh","setState","refreshing","fetchData","fetchOrders","state","isLoading","dataSourceStorage","dataSourceHome","dataSourceOrders","email","currentUserInfo","then","userInfo","attributes","fetch","response","json","responseJson","responseJson2","filter","isInStorage","owner","responseJson3","catch","error","console","log","name","container","marginBottom","length","button2","color","sectionContainer","sectionHeader","slice","textbox","textAlign","index","toString","button3","contextType","StyleSheet","create","flex","backgroundColor","margin","borderRadius","marginRight","borderColor","borderWidth","overflow","alignItems","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { SafeAreaView, ScrollView, View, Text, Button, TouchableOpacity, FlatList, StyleSheet, Image, ActivityIndicator, RefreshControl } from 'react-native';\r\nimport {LoginContext} from '../components/LoginProvider.js'\r\nimport {Auth} from 'aws-amplify';\r\nimport { Ionicons } from '@expo/vector-icons';\r\n\r\nimport Item from '../components/Item.js'\r\nimport Textbox from '../components/Textbox.js'\r\nimport LongButton from '../components/LongButton.js'\r\nimport {Url} from '../src/components/url.js';\r\nimport moment from \"moment\";\r\n\r\nclass Home extends Component {\r\n  static contextType = LoginContext;\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      isLoading: true,\r\n      dataSourceStorage: [],\r\n      dataSourceHome: [],\r\n      dataSourceOrders: [],\r\n      email: '',\r\n      refreshing: false,\r\n      id: '',\r\n    }\r\n  }\r\n\r\n  fetchData() {\r\n    let email = ''\r\n    Auth.currentUserInfo().then((userInfo) => {\r\n      const { attributes = {} } = userInfo;\r\n      email = attributes['email'];\r\n    })\r\n    fetch(Url+'/render')\r\n    .then((response) => response.json())\r\n    .then((responseJson) => {\r\n      const responseJson2 = responseJson.filter(function(item){\r\n        return item.isInStorage == 'No' && item.owner == email\r\n      });\r\n      const responseJson3 = responseJson.filter(function(item){\r\n        return item.isInStorage == 'Yes' && item.owner == email\r\n      });\r\n      this.setState({dataSourceHome: responseJson2})\r\n      this.setState({dataSourceStorage: responseJson3})\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  fetchOrders(){\r\n    let email = ''\r\n    Auth.currentUserInfo().then((userInfo) => {\r\n      const { attributes = {} } = userInfo;\r\n      email = attributes['email'];\r\n    })\r\n    fetch(Url+'/renderorders')\r\n    .then((response) => response.json())\r\n    .then((responseJson) => {\r\n      const responseJson2 = responseJson.filter(function(item){\r\n        return item.name == email\r\n      });\r\n      this.setState({dataSourceOrders: responseJson2, isLoading:false, refreshing: false});\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchData();\r\n    this.fetchOrders();\r\n  }\r\n\r\n\r\n  renderItem = ({item}) => {\r\n      return (\r\n      <View style = {styles.button}>\r\n        <Image style={{width: 150, height: 150}}\r\n               source={{uri: item.photo}}/>\r\n        <View style={{padding: 10, flexDirection: 'column'}}>\r\n          <Text style={{fontWeight: 'bold'}}>{item.description}</Text>\r\n          <Text>ID #{item.id}</Text>\r\n        </View>\r\n      </View>\r\n    )\r\n  }\r\n\r\n  renderItemsInStorage = ({item}) => {\r\n      return (\r\n        <View style = {styles.button}>\r\n          <Image style={{width: 150, height: 150}}\r\n                 source={{uri: item.photo}}/>\r\n          <View style={{padding: 10, flexDirection: 'column'}}>\r\n            <Text style={{fontWeight: 'bold'}}>{item.description}</Text>\r\n            <Text>ID #{item.id}</Text>\r\n          </View>\r\n        </View>\r\n    )\r\n  }\r\n\r\n  renderOrders = data => {\r\n      return (\r\n        <View style={{flexDirection:'row'}}>\r\n          <View>\r\n            <Text style={{fontSize: 20}}>{moment(data.item.date).format('MMMM DD, YYYY')}, {data.item.time}</Text>\r\n          </View>\r\n          <TouchableOpacity style={{marginLeft: 50}} onPress={() => this.props.navigation.navigate('ViewOrder', {id: data.item.id})}>\r\n            <Text style={{fontWeight:'bold'}}>...</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n    )\r\n  }\r\n\r\n  onRefresh = () => {\r\n    this.setState({refreshing: true});\r\n    this.fetchData();\r\n    this.fetchOrders();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <View style={styles.container}>\r\n      {this.state.isLoading ? (\r\n      <>\r\n        <View>\r\n          <ActivityIndicator />\r\n        </View>\r\n      </>\r\n    ) : (\r\n      <>\r\n        <ScrollView refreshControl={\r\n          <RefreshControl\r\n            refreshing={this.state.refreshing}\r\n            onRefresh={this.onRefresh}\r\n            tintColor = 'white'  />\r\n        }>\r\n        <View style={{marginBottom: 10}}/>\r\n          {this.state.dataSourceOrders.length == 0 ? (\r\n            <>\r\n            <TouchableOpacity style = {styles.button2} onPress={() => this.props.navigation.navigate('NewAppointment')}>\r\n            <Text style={{fontSize: 25, color: '#FFF'}}>Schedule Appointment</Text>\r\n            </TouchableOpacity>\r\n          </>\r\n        ) : (\r\n          <>\r\n          <View style={styles.sectionContainer}>\r\n            <Text style={styles.sectionHeader}>Upcoming Order</Text>\r\n            <FlatList\r\n              horizontal={true}\r\n              data={this.state.dataSourceOrders.slice(0,1)}\r\n              renderItem={this.renderOrders}\r\n              scrollEnabled={false}\r\n            />\r\n          </View>\r\n          </>\r\n        )}\r\n          <View style={styles.sectionContainer}>\r\n            <Text style={styles.sectionHeader}>Items in Storage</Text>\r\n            {this.state.dataSourceStorage.length == 0 ? (\r\n              <>\r\n                  <View style = {styles.textbox}>\r\n              <Text style = {{textAlign: 'center'}}>No Items Yet - Will Appear Once You Have Items</Text>\r\n              </View>\r\n            </>\r\n          ) : (\r\n            <>\r\n            <FlatList\r\n              horizontal={true}\r\n              columns={2}\r\n              data={this.state.dataSourceStorage.slice(0,2)}\r\n              renderItem={this.renderItemsInStorage}\r\n              keyExtractor={(item, index) => index.toString()}\r\n              scrollEnabled={false}\r\n            />\r\n              <TouchableOpacity style={styles.button3} onPress={() => this.props.navigation.navigate('ViewStorageInventory')}>\r\n              <Text style={{color: 'white'}}>VIEW ALL</Text>\r\n              </TouchableOpacity>\r\n            </>\r\n          )}\r\n          </View>\r\n          <View style={styles.sectionContainer}>\r\n            <Text style={styles.sectionHeader}>Returned Items</Text>\r\n            {this.state.dataSourceHome.length == 0 ? (\r\n              <>\r\n                  <View style = {styles.textbox}>\r\n              <Text style = {{textAlign: 'center'}}>None of Your Items Have Been Returned Yet</Text>\r\n              </View>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <FlatList\r\n                horizontal={true}\r\n                data={this.state.dataSourceHome.slice(0,2)}\r\n                renderItem={this.renderItem}\r\n                keyExtractor={(item, index) => index.toString()}\r\n                scrollEnabled={false}\r\n              />\r\n              <TouchableOpacity style={styles.button3} onPress={() => this.props.navigation.navigate('HomeInventoryScreen')}>\r\n              <Text style={{color: 'white'}}>VIEW ALL</Text>\r\n              </TouchableOpacity>\r\n            </>\r\n          )}\r\n          </View>\r\n        </ScrollView>\r\n      </>\r\n    )}\r\n    </View>);\r\n  }\r\n}\r\n\r\nexport default Home;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#261136',\r\n  },\r\n  sectionContainer:{\r\n    margin:15,\r\n    backgroundColor: '#FFF',\r\n    borderRadius: 5,\r\n    padding: 25,\r\n  },\r\n  sectionHeader: {\r\n    color: '#000',\r\n    fontSize: 25,\r\n    marginBottom: 10,\r\n  },\r\n  button: {\r\n    marginRight: 30,\r\n    backgroundColor: 'white',\r\n    borderColor: 'black',\r\n    borderWidth: 1,\r\n    borderRadius: 5,\r\n    overflow: \"hidden\",\r\n  },\r\n  button2: {\r\n    alignItems: 'center',\r\n    backgroundColor: '#7B1FA2',\r\n    padding: 10,\r\n    margin: 15,\r\n    borderRadius: 5,\r\n },\r\n button3: {\r\n   alignItems: 'center',\r\n   backgroundColor: '#7B1FA2',\r\n   padding: 10,\r\n   marginTop: 15,\r\n   borderRadius: 5\r\n},\r\n  textbox: {\r\n    flexDirection: 'column',\r\n    backgroundColor: '#FFF',\r\n    padding: 10,\r\n    marginLeft: 15,\r\n    marginRight: 15,\r\n    borderRadius: 5\r\n  },\r\n})\r\n"]},"metadata":{},"sourceType":"module"}