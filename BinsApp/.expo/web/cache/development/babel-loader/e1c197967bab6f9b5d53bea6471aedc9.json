{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/bobbytatum/Desktop/BinsApp/BinsApp/screens/UserInfo.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport FormInputHandler from \"../components/FormInputHandler.js\";\nimport LongButton from \"../components/LongButton.js\";\nimport { LoginContext } from \"../components/LoginProvider.js\";\n\nvar UserInfo = function (_React$Component) {\n  _inherits(UserInfo, _React$Component);\n\n  var _super = _createSuper(UserInfo);\n\n  function UserInfo(props) {\n    var _this;\n\n    _classCallCheck(this, UserInfo);\n\n    _this = _super.call(this, props);\n\n    _this.checkAllFields = function () {\n      if (_this.state.validEmail && _this.state.validPassword && _this.state.validPhone && _this.state.nonemptyName && _this.state.validPasswordReentry) {\n        _this.setState({\n          validInput: true\n        });\n      } else {\n        _this.setState({\n          validInput: false\n        });\n      }\n    };\n\n    _this.checkPasswordReentry = function () {\n      if (_this.state.password != _this.state.passwordReentry) {\n        _this.setState({\n          validPasswordReentry: false\n        });\n      }\n    };\n\n    _this.state = {\n      name: '',\n      email: '',\n      password: '',\n      passwordReentry: '',\n      phone: '',\n      validInput: false,\n      validEmail: false,\n      validPassword: false,\n      validPhone: false,\n      nonemptyName: false,\n      validNameUI: true,\n      validPhoneUI: true,\n      validEmailUI: true,\n      validPasswordUI: true,\n      validPasswordReentry: true\n    };\n    return _this;\n  }\n\n  _createClass(UserInfo, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 7\n        }\n      }, React.createElement(Text, {\n        style: _objectSpread(_objectSpread({}, styles.descriptionText), {}, {\n          color: this.state.validNameUI ? 'white' : 'red'\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }\n      }, \"Full Name \", this.state.validNameUI ? '' : ' - Don\\'t leave this empty!'), React.createElement(FormInputHandler, {\n        defaultText: \"Enter your full name here\",\n        defaultTextColor: \"#8B8B8B\",\n        style: styles.userInfoText,\n        onChangeText: function onChangeText(val) {\n          return _this2.setState({\n            name: val,\n            validInput: false\n          });\n        },\n        onEndEditing: function onEndEditing(val) {\n          if (_this2.state.name.length == 0) {\n            _this2.setState({\n              validNameUI: false,\n              nonemptyName: false\n            });\n          } else {\n            _this2.setState({\n              nonemptyName: true,\n              validNameUI: true\n            });\n          }\n\n          _this2.checkAllFields();\n        },\n        onBlur: function onBlur() {\n          return _this2.checkAllFields();\n        },\n        returnKeyType: \"next\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }\n      }), React.createElement(Text, {\n        style: _objectSpread(_objectSpread({}, styles.descriptionText), {}, {\n          color: this.state.validPhoneUI ? 'white' : 'red'\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 9\n        }\n      }, \"Phone \", this.state.validPhoneUI ? '' : ' - Must be 10 digits!'), React.createElement(FormInputHandler, {\n        defaultText: \"Enter your phone number here\",\n        defaultTextColor: \"#8B8B8B\",\n        style: styles.userInfoText,\n        onChangeText: function onChangeText(val) {\n          return _this2.setState({\n            phone: val,\n            validInput: false\n          });\n        },\n        keyboardType: \"number-pad\",\n        onEndEditing: function onEndEditing(val) {\n          if (_this2.state.phone.length == 10) {\n            _this2.setState({\n              validPhone: true,\n              validPhoneUI: true\n            });\n          } else {\n            _this2.setState({\n              validPhone: false,\n              validPhoneUI: false\n            });\n          }\n\n          _this2.checkAllFields();\n        },\n        onBlur: function onBlur() {\n          return _this2.checkAllFields();\n        },\n        returnKeyType: \"next\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }\n      }), React.createElement(Text, {\n        style: _objectSpread(_objectSpread({}, styles.descriptionText), {}, {\n          color: this.state.validEmailUI ? 'white' : 'red'\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }\n      }, \"Email \", this.state.validEmailUI ? '' : '- Invalid Email!'), React.createElement(FormInputHandler, {\n        defaultText: \"Enter your email here\",\n        defaultTextColor: \"#8B8B8B\",\n        style: styles.userInfoText,\n        onChangeText: function onChangeText(val) {\n          return _this2.setState({\n            email: val,\n            validInput: false\n          });\n        },\n        keyboardType: \"email-address\",\n        onEndEditing: function onEndEditing(prev) {\n          var emailRegex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n          if (emailRegex.test(_this2.state.email.toLowerCase())) {\n            _this2.setState({\n              validEmail: true,\n              validEmailUI: true\n            });\n          } else {\n            _this2.setState({\n              validEmail: false,\n              validEmailUI: false\n            });\n          }\n\n          _this2.checkAllFields();\n        },\n        onBlur: function onBlur() {\n          return _this2.checkAllFields();\n        },\n        returnKeyType: \"next\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }\n      }), React.createElement(Text, {\n        style: _objectSpread(_objectSpread({}, styles.descriptionText), {}, {\n          color: this.state.validPasswordUI ? 'white' : 'red'\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 9\n        }\n      }, \"Password \", this.state.validPasswordUI ? '' : ' - Must be 8 characters and contain a number!'), React.createElement(FormInputHandler, {\n        defaultText: \"Enter a password here\",\n        defaultTextColor: \"#8B8B8B\",\n        style: styles.userInfoText,\n        onChangeText: function onChangeText(val) {\n          return _this2.setState({\n            password: val,\n            validInput: false\n          });\n        },\n        secureTextEntry: true,\n        onEndEditing: function onEndEditing(val) {\n          var hasNumberRegex = /\\d/;\n\n          if (_this2.state.password.length >= 8 && hasNumberRegex.test(_this2.state.password)) {\n            _this2.setState({\n              validPassword: true,\n              validPasswordUI: true\n            });\n          } else {\n            _this2.setState({\n              validPassword: false,\n              validPasswordUI: false\n            });\n          }\n\n          _this2.checkPasswordReentry();\n\n          _this2.checkAllFields();\n        },\n        onBlur: function onBlur() {\n          _this2.checkPasswordReentry();\n\n          _this2.checkAllFields();\n        },\n        returnKeyType: \"next\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 9\n        }\n      }), React.createElement(Text, {\n        style: _objectSpread(_objectSpread({}, styles.descriptionText), {}, {\n          color: this.state.validPasswordReentry ? 'white' : 'red'\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 9\n        }\n      }, \"Confirm Password \", this.state.validPasswordReentry ? '' : ' - Passwords do not match!'), React.createElement(FormInputHandler, {\n        defaultText: \"Confirm your password here\",\n        defaultTextColor: \"#8B8B8B\",\n        style: styles.userInfoText,\n        onChangeText: function onChangeText(val) {\n          return _this2.setState({\n            passwordReentry: val,\n            validInput: false\n          });\n        },\n        secureTextEntry: true,\n        onEndEditing: function onEndEditing(val) {\n          if (_this2.state.passwordReentry != _this2.state.password) {\n            _this2.setState({\n              validPasswordReentry: false\n            });\n          } else {\n            _this2.setState({\n              validPasswordReentry: true\n            });\n          }\n\n          _this2.checkPasswordReentry();\n\n          _this2.checkAllFields();\n        },\n        onBlur: function onBlur() {\n          _this2.checkPasswordReentry();\n\n          _this2.checkAllFields();\n        },\n        returnKeyType: \"next\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 9\n        }\n      }), this.state.validInput ? React.createElement(React.Fragment, null, React.createElement(LongButton, {\n        title: \"NEXT\",\n        onPress: function onPress() {\n          var wholeAddress = _this2.props.route.params.addressLine1 + ' ' + _this2.props.route.params.addressLine2 + ' ' + _this2.props.route.params.city + ' ' + _this2.props.route.params.state + ' ' + _this2.props.route.params.zip;\n\n          _this2.context.signup(_this2.state.email, _this2.state.password, _this2.state.name, '+1' + _this2.state.phone, wholeAddress).then(function () {\n            return _this2.props.navigation.navigate('InitialAppointmentScreen', {\n              specialInstructions: _this2.props.route.params.specialInstructions\n            });\n          }).catch(function (err) {\n            console.log('error signing up - see below', JSON.stringify(err));\n\n            if (err.code == 'UsernameExistsException') {\n              Alert.alert('The email you\\'ve entered is already in use. Please choose another.');\n            }\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }\n      })) : React.createElement(React.Fragment, null, React.createElement(View, {\n        style: styles.finishUserEntry,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.finishUserEntryPrompt,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 15\n        }\n      }, \"Fill out your information before you move on.\")), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: _objectSpread(_objectSpread({}, styles.validInputInstructions), {}, {\n          color: this.state.validPhone ? '#3DED97' : 'red'\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 15\n        }\n      }, \"Your phone number must be 10 digits. Please do not include the country code.\"), React.createElement(Text, {\n        style: _objectSpread(_objectSpread({}, styles.validInputInstructions), {}, {\n          color: this.state.validPassword ? '#3DED97' : 'red'\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 15\n        }\n      }, \"Your password must be at least 8 characters and include a number.\"))));\n    }\n  }]);\n\n  return UserInfo;\n}(React.Component);\n\nUserInfo.contextType = LoginContext;\nexport { UserInfo as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 25,\n    backgroundColor: '#261136'\n  },\n  userInfoText: {\n    borderColor: '#4826A0',\n    borderWidth: 1,\n    textAlign: 'center',\n    color: 'white',\n    margin: 15,\n    padding: 15\n  },\n  descriptionText: {\n    marginBottom: -10,\n    paddingLeft: 15,\n    color: 'white'\n  },\n  finishUserEntry: {\n    padding: 10,\n    margin: 15,\n    backgroundColor: '#7B1FA2',\n    opacity: 0.3\n  },\n  finishUserEntryPrompt: {\n    textAlign: 'center',\n    color: 'white',\n    opacity: 1.0\n  },\n  validInputInstructions: {\n    fontSize: 15,\n    marginTop: 13,\n    paddingLeft: 15,\n    marginTop: 30\n  }\n});","map":{"version":3,"sources":["/Users/bobbytatum/Desktop/BinsApp/BinsApp/screens/UserInfo.js"],"names":["React","FormInputHandler","LongButton","LoginContext","UserInfo","props","checkAllFields","state","validEmail","validPassword","validPhone","nonemptyName","validPasswordReentry","setState","validInput","checkPasswordReentry","password","passwordReentry","name","email","phone","validNameUI","validPhoneUI","validEmailUI","validPasswordUI","styles","container","descriptionText","color","userInfoText","val","length","prev","emailRegex","test","toLowerCase","hasNumberRegex","wholeAddress","route","params","addressLine1","addressLine2","city","zip","context","signup","then","navigation","navigate","specialInstructions","catch","err","console","log","JSON","stringify","code","Alert","alert","finishUserEntry","finishUserEntryPrompt","validInputInstructions","Component","contextType","StyleSheet","create","flex","padding","backgroundColor","borderColor","borderWidth","textAlign","margin","marginBottom","paddingLeft","opacity","fontSize","marginTop"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { StyleSheet, Text, View, TextInput, Button, Alert, KeyboardAvoidingView } from 'react-native';\nimport FormInputHandler from '../components/FormInputHandler.js'\nimport LongButton from '../components/LongButton.js'\nimport { LoginContext } from '../components/LoginProvider.js';\n\nexport default class UserInfo extends React.Component {\n  static contextType = LoginContext;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      email: '',\n      password: '',\n      passwordReentry: '',\n      phone: '',\n      validInput: false,\n      validEmail: false,\n      validPassword: false,\n      validPhone: false,\n      nonemptyName: false,\n      // these are for rendering a red box on invalid input\n      validNameUI: true, \n      validPhoneUI: true,\n      validEmailUI: true,\n      validPasswordUI: true,\n      validPasswordReentry: true,\n    };\n  }\n\n  checkAllFields = () => {\n    if (this.state.validEmail && this.state.validPassword && this.state.validPhone && this.state.nonemptyName && this.state.validPasswordReentry) {\n      this.setState({validInput: true});\n    } else {\n      this.setState({validInput: false})\n    }\n  }\n\n  checkPasswordReentry = () => {\n    if (this.state.password != this.state.passwordReentry) {\n      this.setState({validPasswordReentry: false})\n    }\n  }\n\n  render() {\n    return (\n      <View style={styles.container}>\n        <Text style ={{...styles.descriptionText, color: this.state.validNameUI ? 'white' : 'red'}}>Full Name {this.state.validNameUI ? '' : ' - Don\\'t leave this empty!'}</Text>\n        <FormInputHandler\n          defaultText='Enter your full name here'\n          defaultTextColor='#8B8B8B'\n          style={styles.userInfoText}\n          onChangeText={(val)=>this.setState({name: val, validInput: false})}\n          onEndEditing={(val) => {\n            if (this.state.name.length == 0) {\n              this.setState({validNameUI: false, nonemptyName: false})\n            } else {\n              this.setState({nonemptyName: true, validNameUI: true})\n            }\n            this.checkAllFields();\n          }}\n          onBlur={() => this.checkAllFields()}\n          returnKeyType='next'\n        />\n        <Text style ={{...styles.descriptionText, color: this.state.validPhoneUI ? 'white' : 'red'}}>Phone {this.state.validPhoneUI ? '' : ' - Must be 10 digits!'}</Text>\n        <FormInputHandler\n          defaultText='Enter your phone number here'\n          defaultTextColor='#8B8B8B'\n          style={styles.userInfoText}\n          onChangeText={(val)=>this.setState({phone: val, validInput: false})}\n          keyboardType='number-pad'\n          onEndEditing={(val) => {\n            if (this.state.phone.length == 10) {\n              this.setState({validPhone: true, validPhoneUI: true})\n            } else {\n              this.setState({validPhone: false, validPhoneUI: false})\n            }\n            this.checkAllFields();\n          }}\n          onBlur={() => this.checkAllFields()}\n          returnKeyType='next'\n        />\n        <Text style ={{...styles.descriptionText, color: this.state.validEmailUI ? 'white' : 'red'}}>Email {this.state.validEmailUI ? '' : '- Invalid Email!'}</Text>\n        <FormInputHandler\n          defaultText='Enter your email here'\n          defaultTextColor='#8B8B8B'\n          style={styles.userInfoText}\n          onChangeText={(val)=>this.setState({email: val, validInput: false})}\n          keyboardType='email-address'\n          onEndEditing={(prev) => {\n            // i got this regex online so we should test it (but it had the most upvotes on stack overflow lol)\n            const emailRegex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n            if (emailRegex.test(this.state.email.toLowerCase())) {\n              this.setState({validEmail: true, validEmailUI: true})\n            } else {\n              this.setState({validEmail: false, validEmailUI: false})\n            }\n            this.checkAllFields();\n          }}\n          onBlur={() => this.checkAllFields()}\n          returnKeyType='next'\n        />\n        <Text style ={{...styles.descriptionText, color: this.state.validPasswordUI ? 'white' : 'red'}}>Password {this.state.validPasswordUI ? '' : ' - Must be 8 characters and contain a number!'}</Text>\n        <FormInputHandler\n          defaultText='Enter a password here'\n          defaultTextColor='#8B8B8B'\n          style={styles.userInfoText}\n          onChangeText={(val)=>this.setState({password: val, validInput: false})}\n          secureTextEntry\n          onEndEditing={(val) => {\n            // regex to check if password has number\n            const hasNumberRegex = /\\d/;  \n            if (this.state.password.length >= 8 && hasNumberRegex.test(this.state.password)) {\n              this.setState({validPassword: true, validPasswordUI: true})\n            } else {\n              this.setState({validPassword: false, validPasswordUI: false})\n            }\n            this.checkPasswordReentry();\n            this.checkAllFields();\n          }}\n          onBlur={() => {\n            this.checkPasswordReentry();\n            this.checkAllFields();\n          }}\n          returnKeyType='next'\n        />\n        <Text style ={{...styles.descriptionText, color: this.state.validPasswordReentry ? 'white' : 'red'}}>Confirm Password {this.state.validPasswordReentry ? '' : ' - Passwords do not match!'}</Text>\n        <FormInputHandler\n          defaultText='Confirm your password here'\n          defaultTextColor='#8B8B8B'\n          style={styles.userInfoText}\n          onChangeText={(val)=>this.setState({passwordReentry: val, validInput: false})}\n          secureTextEntry\n          onEndEditing={(val) => {\n            if (this.state.passwordReentry != this.state.password) {\n              this.setState({validPasswordReentry: false})\n            } else {\n              this.setState({validPasswordReentry: true})\n            }\n            this.checkPasswordReentry();\n            this.checkAllFields();\n          }}\n          onBlur={() => {\n            this.checkPasswordReentry();\n            this.checkAllFields()\n          }}\n          returnKeyType='next'\n        />\n        {this.state.validInput ? (\n          <>\n            <LongButton\n              title=\"NEXT\"\n              onPress={()=>{\n                const wholeAddress = this.props.route.params.addressLine1 + ' ' + this.props.route.params.addressLine2 + ' ' +\n                                     this.props.route.params.city + ' ' + this.props.route.params.state + ' ' + this.props.route.params.zip;\n\n                this.context.signup(this.state.email, this.state.password, this.state.name, '+1' + this.state.phone, wholeAddress)\n                .then(() => this.props.navigation.navigate('InitialAppointmentScreen', {specialInstructions: this.props.route.params.specialInstructions}))\n                .catch((err) => {\n                  console.log('error signing up - see below', JSON.stringify(err));\n                  if (err.code == 'UsernameExistsException') {\n                    Alert.alert('The email you\\'ve entered is already in use. Please choose another.');\n                  }\n                })\n              }}\n            />\n          </>\n        ) : (\n          <>\n            <View style={styles.finishUserEntry}>\n              <Text style={styles.finishUserEntryPrompt}>Fill out your information before you move on.</Text>\n            </View>\n            <View>\n              <Text style={{...styles.validInputInstructions, color: this.state.validPhone ? '#3DED97' : 'red'}}>\n                Your phone number must be 10 digits. Please do not include the country code.\n              </Text>\n              <Text style={{...styles.validInputInstructions, color: this.state.validPassword ? '#3DED97' : 'red'}}>\n                Your password must be at least 8 characters and include a number.\n              </Text>\n            </View>\n          </>\n        )}\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 25,\n    backgroundColor: '#261136',\n  },\n  userInfoText: {\n    borderColor: '#4826A0',\n    borderWidth: 1,\n    textAlign: 'center',\n    color: 'white',\n    margin: 15,\n    padding: 15,\n  },\n  descriptionText:{\n    marginBottom: -10,\n    paddingLeft: 15,\n    color: 'white',\n  },\n  finishUserEntry: {\n    padding: 10,\n    margin: 15,\n    backgroundColor: '#7B1FA2',\n    opacity: 0.3\n  },\n  finishUserEntryPrompt: {\n    textAlign: 'center',\n    color: 'white',\n    opacity: 1.0, // this won't overide the wrapper view's opacity :(\n  },\n  validInputInstructions: {\n    fontSize: 15,\n    marginTop: 13,\n    paddingLeft: 15,\n    marginTop: 30\n  }\n});\n"]},"metadata":{},"sourceType":"module"}